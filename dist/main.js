(()=>{"use strict";class e{constructor(e,t,n,i,a,r){this.frequency=e,this.id=t,this.difficulty=n,this.problemUrl=i,this.problemName=a,this.acceptance=r}}class t extends e{constructor(e,t,n,i,a,r,s,o){super(e,t,n,i,a,r),this.companyName=s,this.duration=o}}class n{constructor(e,t,n){this.url=n,this.duration=e,this.company=t}}class i{constructor(){this.data={}}getKeys(){return Object.keys(this.data)}getList(e){return e in this.data?this.data[e]:[]}}class a extends i{push(e,t){if(e in this.data)return void this.data[e].push(t);let n=[];n.push(t),this.data[e]=n}}class r extends i{push(e,t){if(e in this.data)return void this.data[e].push(t);let n=new s;n.push(t),this.data[e]=n}}class s extends Array{sort(e,t=!1){(new e).sort(this,t)}}class o{static COLOR_ACCENT="#62C555"}class l{constructor(){this.elementModifier=[]}injectFunctionToTargetElement(e){this.elementModifier.push(e)}modifyElement(){this.modifyActiveElement(),this.addObserverToCompaniesSection()}modifyActiveElement(){let e=document.getElementsByClassName("swiper-slide-active"),t=e[e.length-1].getElementsByTagName("a");for(let e=0;e<=t.length-1;e++){let n=t[e].href.split("/"),i=n[n.length-1],a=t[e];null==a.getAttribute("company-name")&&a.setAttribute("company-name",i),a.href="javascript:void(0)";for(let e=0;e<=this.elementModifier.length-1;e++)this.elementModifier[e](a);this.onModifyElementSuccess(a)}}onModifyElementSuccess(e){let t=e.getElementsByTagName("span");t[t.length-1].style.backgroundColor=o.COLOR_ACCENT}addObserverToCompaniesSection(){var e=document.getElementsByClassName("mt-0")[0];const t=new MutationObserver((()=>{this.modifyActiveElement()}));e?t.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["class"]}):window.setTimeout((()=>{addObserverToCompaniesSection()}),500)}}class c{getValue(e,t){return e[t]}doSwap(e,t){return e>t}swap(e,t,n){let i=e[t];e[t]=e[n],e[n]=i}partition(e,t,n,i){let a=this.getValue(e,n),r=t-1;for(let s=t;s<=n-1;s++){let t=this.getValue(e,s),n=this.doSwap(t,a);i&&(n=!n),n&&(r++,this.swap(e,r,s))}return this.swap(e,r+1,n),r+1}sort(e,t=!1){this.quickSort(e,0,e.length-1,t)}quickSort(e,t,n,i){if(null==n&&null==t&&(n=e.length-1,t=0),t<n){let a=this.partition(e,t,n,i);this.quickSort(e,t,a-1,i),this.quickSort(e,a+1,n,i)}}}class d extends c{getValue(e,t){return e[t].acceptance}}class h extends c{getValue(e,t){return e[t].difficulty}doSwap(e,t){let n=["Easy","Medium","Hard"];return n.indexOf(e)<n.indexOf(t)}}class m extends c{getValue(e,t){return parseInt(e[t].id)}}class u extends c{getValue(e,t){return e[t].problemName}doSwap(e,t){let n="abcdefghijklmnopqrstuvwxyz",i=e[0].toLowerCase(),a=t[0].toLowerCase();return n.indexOf(i)<n.indexOf(a)}}class g extends c{getValue(e,t){return e[t].frequency}}class p{static generateTextElement(e){let t=document.createElement("div"),n=document.createElement("h3");return n.textContent=e,n.style="color: black;\n        text-align: center;\n        ",t.appendChild(n),t}static generateProblemIdElement(e){let t=p.generateTextElement(e);return t.style="\n       width: 5%\n       ",t}static generateProblemFrequencyElement(e){let t=document.createElement("div");t.setAttribute("title",String(Math.round(100*e))+"%"),t.style="\n        display: flex;\n        height: 1rem;\n        overflow: hidden;\n        font-size: .75rem;\n        background-color: #e9ecef;\n        border-radius: 0.5rem;\n        margin-top: auto;\n        margin-bottom: auto;\n        width:10%; \n        ";let n=document.createElement("div");return n.style=`\n        border-radius: 0.5rem;\n        height:100%; \n        width:${100*e}%; \n        display: flex;\n        flex-direction: column;\n        justify-content: center;\n        overflow: hidden;\n        color: #fff;\n        background-color: #0d6efd;\n        `,t.appendChild(n),t}static generateProblemNameElement(e,t){let n=document.createElement("div"),i=document.createElement("a");return i.href=t,i.textContent=e,i.style="\n            color:black; \n        ",n.appendChild(i),n.style="\n        width: 50%\n        ",n}static generateProblemDifficultyElement(e){let t=p.generateTextElement(e);return t.style="\n        width: 12%\n        ",t}static generateProblemAcceptanceElement(e){let t=p.generateTextElement(e);return t.style="\n        width: 10%\n        ",t}static generateRowElement(){let e=document.createElement("div");return e.style="\n        display:flex;\n        border-top: solid 1px black;\n        ",e}static generateTableContentElement(e){let t=document.createElement("div");for(let n=0;n<=e.length-1;n++){let i=p.generateRowElement(),a=e[n].frequency,r=e[n].id,s=e[n].difficulty,o=e[n].problemUrl,l=e[n].problemName,c=String(Math.round(100*e[n].acceptance))+"%";i.appendChild(p.generateProblemIdElement(r)),i.appendChild(p.generateProblemNameElement(l,o)),i.appendChild(p.generateProblemAcceptanceElement(c)),i.appendChild(p.generateProblemDifficultyElement(s)),i.appendChild(p.generateProblemFrequencyElement(a)),t.append(i)}return t.id="table-content",t}static generateDurationElement(e){let t=document.createElement("button");return t.innerText=e,t.style=" \n        width:auto; \n        margin-right: 2%; \n        ",t.setAttribute("duration",e),t}static generateTitleElement(e){let t=document.createElement("h2");return t.innerText=e,t.style="\n        color:black; \n        font-size:1.5em;",t}}function b(e){e.style.textDecoration="underline",e.style.cursor="pointer",e.style.fontWeight="bold",e.style.color="blue"}class f{constructor(){this.tableId="table-content",this.shownData=[],this.currentlySortedBy="",this.isReverseSorted=!1,this.parentDiv=document.createElement("div"),this.durationData={}}setShownData(e){return this.shownData=e,this}buildTitleRow(e){let t=p.generateRowElement();return t.style.justifyContent="center",t.appendChild(p.generateTitleElement(e)),this.parentDiv.appendChild(t),this}addDurationData(e,t){this.durationData[e]=t}buildDurationsRow(){let e=p.generateRowElement();for(let t in this.durationData){let n=p.generateDurationElement(t);b(n),n.addEventListener("click",this.onDurationButtonClicked),e.appendChild(n)}return this.parentDiv.appendChild(e),this}buildHeaderRow(){let e=p.generateRowElement(),t=p.generateProblemIdElement("#"),n=p.generateProblemNameElement("Title","javascript:void(0)"),i=p.generateProblemAcceptanceElement("Acceptance"),a=p.generateProblemDifficultyElement("Difficulty"),r=p.generateProblemAcceptanceElement("Frequency");return b(t.firstChild),b(n.firstChild),b(i.firstChild),b(a.firstChild),b(r.firstChild),t.addEventListener("click",this.getOnHeaderClickedFunction(m).bind(this)),n.addEventListener("click",this.getOnHeaderClickedFunction(u).bind(this)),i.addEventListener("click",this.getOnHeaderClickedFunction(d).bind(this)),a.addEventListener("click",this.getOnHeaderClickedFunction(h).bind(this)),r.addEventListener("click",this.getOnHeaderClickedFunction(g).bind(this)),e.appendChild(t),e.appendChild(n),e.appendChild(i),e.appendChild(a),e.appendChild(r),this.parentDiv.appendChild(e),this}buildTable(e=u){this.shownData.sort(e),this.currentlySortedBy=e.name,this.isReverseSorted=!1;let t=p.generateTableContentElement(this.shownData);return this.parentDiv.appendChild(t),this}getResult(){return this.parentDiv}onDurationButtonClicked=e=>{this.shownData=this.durationData[e.currentTarget.getAttribute("duration")],this.swapContentTableElement(this.shownData)};getOnHeaderClickedFunction(e){return()=>{e.name==this.currentlySortedBy?(this.shownData.sort(e,!this.isReverseSorted),this.isReverseSorted=!this.isReverseSorted):(this.shownData.sort(e),this.currentlySortedBy=e.name,this.isReverseSorted=!1),this.swapContentTableElement(this.shownData)}}swapContentTableElement=e=>{null!=document.getElementById(this.tableId)&&document.getElementById(this.tableId).remove();let t=p.generateTableContentElement(e);this.parentDiv.appendChild(t)}}class y{constructor(){if(y._instance)throw new Error("Modal Manager Have been instantiated");y._instance=this,this.modal=this.createModal(),this.modalContentBox=this.createModalContentBox(),this.appendToModal(this.modalContentBox),this.appendModal(document.body)}createModalContentBox(){let e=document.createElement("div");return e.style="\n        background-color: #fefefe;\n        margin-top:1%; \n        margin-left: auto;\n        margin-right: auto;\n        padding: 20px;\n        width: 80%;\n        mid-height: 15%\n        ",e}getModalContentBox(){return this.modalContentBox}appendModal(e){e.appendChild(this.modal)}appendToModal(e){this.modal.appendChild(e)}appendToContainer(e){this.modalContentBox.appendChild(e)}createCloseButton(){let e=document.createElement("span");return e.style=" \n        float: right;\n        font-size: 28px;\n        font-weight: bold;\n        cursor: pointer;\n        ",e.innerText="x",e.addEventListener("click",resetModal),e}createModal(){let e=document.createElement("div");return e.style=" \n        display: none; \n        position: fixed; \n        z-index: 32;\n        left: 0;\n        top: 0;\n        width: 100%; \n        height: 100%; \n        overflow: auto; \n        ",window.addEventListener("click",this.onModalClicked),e.id="CompanyModal",e}openModal(){this.modal.style.display=""}closeModal(){this.modal.style.display="none"}clearModalContent(){for(;null!=this.modalContentBox.firstChild;)this.modalContentBox.firstChild.remove()}onModalClicked=e=>{e.target==this.modal&&this.resetModal()};resetModal=()=>{this.closeModal(),this.clearModalContent()}}let C=new y;class E{static API_KEY="AIzaSyDDAE3rf1fjLGKM0FUHQeTcsmS6fCQjtDs";static SHEETS_ID="1hW-bfeFKSkEDzfjaDMjDQmgsupEZz3gysXpG0mrf6QE";static TESTING_SHEETS_ID="1TJUhILyqBYsXWaPSUGwN1EvzBFeRNg1MgXH_SVqjQJo";static getUrl(e){return`https://sheets.googleapis.com/v4/spreadsheets/${E.SHEETS_ID}/values/${e}?key=${E.API_KEY}`}}class T{fetchData(){return this.fetchProblemData()}async fetchProblemData(){let e=E.getUrl("Problem!A:B"),t=await fetch(e),n=await t.json();return this.parseProblemData(n.values)}parseProblemData(e){let t={};for(let n=0;n<=e.length-1;n++){let i=e[n][0],a=e[n][1];t[i]=a}return t}}class v{constructor(){this.companyPageTableData={},this.tableDataFetched=!1,this.fetchCompanyPageTable()}fetchData(e){return 0==this.tableDataFetched?this.fetchCompanyPageTable().then((t=>this.fetchCompanyProblemData(e))):this.fetchCompanyProblemData(e)}fetchCompanyPageTable(){let e=E.getUrl("CompaniesProblem_Map!A:C");return fetch(e).then((e=>e.json())).then((e=>{this.parseCompanyPageTableData(e.values)})).then(this.tableDataFetched=!0)}fetchCompanyProblemData(e){if(e in this.companyPageTableData==0)return new Promise(((e,t)=>e(new r)));let t=`CompaniesProblem!A${this.companyPageTableData[e][0]}:I${this.companyPageTableData[e][1]}`,n=E.getUrl(t);return fetch(n).then((e=>e.json())).then((e=>this.parseCompanyProblemData(e.values)))}parseCompanyPageTableData(e){for(let t=1;t<=e.length-1;t++){let n=e[t][0],i=e[t][1],a=e[t][2];this.companyPageTableData[n]=[i,a]}return this.companyPageTableData}parseCompanyProblemData(e){let n=new r;for(let i=0;i<=e.length-1;i++){let a=e[i][2],r=e[i][1],s=e[i][7],o=e[i][6],l=e[i][4],c=e[i][5],d=e[i][0],h=e[i][3],m=new t(a,r,s,o,l,c,d,h);n.push(h,m)}return n}}class w{fetchData(e){let t=`${e}!A2:F`,n=E.getUrl(t);return fetch(n).then((e=>e.json())).then((e=>this.parseTopQuestionData(e.values)))}parseTopQuestionData(t){let n=new s;for(let i=0;i<=t.length-1;i++){let a=t[i][0],r=t[i][1],s=t[i][2],o=t[i][3],l=t[i][4],c=t[i][5],d=new e(r,a,c,l,s,o);n.push(d)}return n}}class D{constructor(){this.map={},this.mapFetched=!1,this.fetchtProblemTagsMap()}fetchData(e){return this.mapFetched?this.fetchProblemTag(e):this.fetchtProblemTagsMap().then((t=>this.fetchProblemTag(e)))}fetchProblemTag(e){if(!(e in this.map))return new Promise(((e,t)=>e(new a)));let t=`ProblemCompaniesTags!A${this.map[e][0]}:C${this.map[e][1]}`,n=E.getUrl(t);return fetch(n).then((e=>e.json())).then((e=>this.parseProblemTagData(e.values)))}parseProblemTagData(e){let t=new a;for(let i=0;i<=e.length-1;i++){let a=e[i][0],r=e[i][1],s=e[i][2],o=new n;o.duration=r,o.company=s,o.url=a,t.push(r,o)}return t}fetchtProblemTagsMap(){let e=E.getUrl("ProblemCompaniesTags_Map!A:C");return fetch(e).then((e=>e.json())).then((e=>this.setProblemTagMap(e.values)))}setProblemTagMap(e){for(let t=0;t<=e.length-1;t++){let n=e[t][0],i=e[t][1],a=e[t][2];this.map[n]=[i,a]}this.mapFetched=!0}}class M{constructor(){this.elementModifier=[]}modifyElement(){this.observer=new MutationObserver((()=>{this.modifyActiveElement()})),this.modifyActiveElement(),this.addObserverToProblemTable()}injectFunctionToTargetElement(e){this.elementModifier.push(e)}modifyActiveElement=()=>{this.disconnectObserverToProblemTable();let e=document.querySelector('[role="rowgroup"]').querySelectorAll('[role="row"]');for(let t=0;t<=e.length-1;t++){let n=e[t].querySelectorAll('[role="cell"]'),i=n[1].textContent,a=n[n.length-1],r=i.split(".")[0];a.setAttribute("problem-id",String(r));for(let e=0;e<=this.elementModifier.length-1;e++)this.elementModifier[e](a)}this.addObserverToProblemTable()};disconnectObserverToProblemTable(){this.observer.disconnect()}addObserverToProblemTable(){let e=document.querySelector('[role="table"]');this.observer.observe(e,{childList:!0,subtree:!0})}}class F{constructor(){this.elementModifier=new M,this.dataFetcher=new T}onFetchSuccess(){this.elementModifier.injectFunctionToTargetElement(F.removeProgressbarUnlockButton),this.elementModifier.injectFunctionToTargetElement(this.insertInnerProgressbar),this.elementModifier.modifyElement()}unlock(){this.dataFetcher.fetchData().then((e=>{this.problemData=e})).then(this.onFetchSuccess.bind(this)).catch((e=>console.log(this,e)))}insertInnerProgressbar=e=>{let t=e.getAttribute("problem-id"),n=this.problemData[t];null==n&&(n=0),n*=100;let i="inner-progressbar",a=e.getElementsByClassName(i),r=e.getElementsByClassName("rounded-l-lg")[0];a.length>0&&a[0].remove(),r.setAttribute("title",`${Math.round(n)}%`);let s=function(e){let t=document.createElement("div");return t.style=`\n    background-color: ${o.COLOR_ACCENT};\n    width: ${e}%;\n    height: 0.5rem;\n    border-bottom-right-radius: 0.5rem;\n    border-top-right-radius: 0.5rem;\n    border-bottom-left-radius: 0.5rem;\n    border-top-left-radius: 0.5rem;\n    `,t}(n);s.classList.add(i),r.appendChild(s)};static removeProgressbarUnlockButton(e){let t=e.getElementsByTagName("svg")[0],n=e.getElementsByClassName("rounded-r-lg")[0],i=e.getElementsByClassName("rounded-l-lg")[0];null!=t&&t.remove(),null!=n&&n.remove(),null!=i&&(i.style="\n            border-bottom-right-radius: 0.5rem;\n            overflow: hidden; \n            border-top-right-radius: 0.5rem\n            ")}}class P{constructor(){this.elementModifier=[]}injectFunctionToTargetElement(e){this.elementModifier.push(e)}modifyElement(){this.observer=new MutationObserver((()=>{this.modifyLockedElement()})),this.modifyLockedElement(),this.addObsersverToFoldout()}addObsersverToFoldout(){let e=document.getElementsByClassName("space-y-1.5")[0];this.observer.observe(e,{childList:!0,subtree:!0})}modifyLockedElement=()=>{let e=document.getElementsByClassName("space-y-1.5")[0],t=e.children;for(let n=0;n<=t.length-2;n++){let i=t[n].getElementsByTagName("svg");if(i.length>0){t[n].getElementsByTagName("a")[0].href="javascript:void(0)";let a=t[n].textContent.replaceAll(" ","");t[n].setAttribute("item",a),t[n].style.color=o.COLOR_ACCENT,i[0].remove();let r=t[n],s=t[n].cloneNode(!0);e.replaceChild(s,r);for(let e=0;e<=this.elementModifier.length-1;e++)this.elementModifier[e](s)}}};disconnectObserverToFoldout(){this.observer.disconnect()}}class B{constructor(){this.tagButtonListener=[]}modifyElement(){this.isDescriptionTabActive()&&this.modifyCompaniesTagButton(),this.addObserverToLeftTab()}addObserverToLeftTab(){let e=document.getElementsByClassName("overflow-x-auto")[0];new MutationObserver((()=>{this.isDescriptionTabActive()&&this.modifyCompaniesTagButton()})).observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["class"]})}isDescriptionTabActive(){return"Description"==document.getElementsByClassName("overflow-x-auto")[0].getElementsByClassName("bg-layer-1")[0].textContent}modifyCompaniesTagButton(){let e=document.getElementsByClassName("pt-3")[0].getElementsByTagName("svg")[0];if(!e)return void window.setTimeout((()=>{this.modifyCompaniesTagButton.bind(this)()}),500);let t=e.parentElement;e.remove();let n=t.cloneNode(!0);t.parentElement.replaceChild(n,t),n.style.backgroundColor=o.COLOR_ACCENT,n.style.color="black";for(let e=0;e<=this.tagButtonListener.length-1;e++)n.addEventListener("click",this.tagButtonListener[e])}addTagButtonOnClickListener(e){this.tagButtonListener.push(e)}}class k{static generateHeader(e){let t=document.createElement("h3");return t.style.color="black",t.textContent=e,t}static generateTag(e){let t=document.createElement("div");return t.style="\n        min-width:7%;\n        margin-right: 3%;\n        max-width:15%; \n        color:black; \n        text-align:center; \n        border-radius: 21px;\n        ",t.textContent=e,t}static generateRow(){let e=document.createElement("div");return e.style="\n        display:flex;\n        flex-wrap: wrap;\n        border-top: solid 1px black;\n\n        ",e}}class x{constructor(){this.parentDiv=document.createElement("div")}buildHeader(e){let t=k.generateRow();return t.style.justifyContent="center",t.appendChild(k.generateHeader(e)),this.parentDiv.appendChild(t),this}getResult(){return this.parentDiv}buildTagsBox(e){let t=k.generateRow();for(let n=0;n<=e.length-1;n++){let i=k.generateTag(e[n].company);t.appendChild(i)}return this.parentDiv.appendChild(t),this}}!function(e){for(const t in e)if(window.location.href.includes(t)){let n=e[t];for(let e=0;e<=n.length-1;e++)try{(new n[e]).unlock()}catch(t){console.log(n[e].constructor.name+" Error "+t)}break}}({"https://leetcode.com/problemset":[F,class{constructor(){this.elementModifier=new l,this.dataFetcher=new v,this.containerManager=C,this.isFetching=!1}unlock(){this.elementModifier.injectFunctionToTargetElement(this.getFunctionToBeInjected()),this.elementModifier.modifyElement()}getFunctionToBeInjected(){return e=>{e.addEventListener("click",this.onCompanyButtonClick)}}onCompanyButtonClick=e=>{if(this.isFetching)return;this.isFetching=!0;let t=e.currentTarget.getAttribute("company-name");this.dataFetcher.fetchData(t).then((e=>this.onFetchSuccess(e,t))).then((e=>{this.isFetching=!1})).catch((e=>{this.isFetching=!1}))};onFetchSuccess(e,t){let n=this.containerManager.getModalContentBox(),i=new f(e),a=e.getKeys();for(let t=0;t<=a.length-1;t++)i.addDurationData(a[t],e.getList(a[t]));i.buildTitleRow(t),i.buildDurationsRow(),i.setShownData(e.getList(a[0])),i.buildHeaderRow(),i.buildTable(),this.containerManager.clearModalContent(),n.appendChild(i.getResult()),this.containerManager.openModal()}},class{constructor(){this.elementModifier=new P,this.dataFetcher=new w,this.containerManager=C,this.isFetching=!1}unlock(){this.elementModifier.injectFunctionToTargetElement(this.getFunctionToBeInjected()),this.elementModifier.modifyElement()}onTopProblemClicked=e=>{if(this.isFetching)return;this.isFetching=!0;let t=e.currentTarget.getAttribute("item");this.dataFetcher.fetchData(t).then((e=>this.onFetchSuccess(e,t))).then((e=>{this.isFetching=!1})).catch((e=>{console.log(this,"Fetch Error"+e),this.isFetching=!1}))};onFetchSuccess(e,t){let n=new f;n.setShownData(e),n.buildTitleRow(t),n.buildHeaderRow(),n.buildTable();let i=n.getResult();this.containerManager.clearModalContent(),this.containerManager.getModalContentBox().appendChild(i),this.containerManager.openModal()}getFunctionToBeInjected(){return e=>{e.addEventListener("click",this.onTopProblemClicked)}}}],"https://leetcode.com/problem-list":[F],"https://leetcode.com/problems":[class{constructor(){this.elementModifier=new B,this.dataFetcher=new D,this.containerManager=C,this.isFetching=!1}onTagButtonClicked=()=>{if(this.isFetching)return;this.isFetching=!0;let e=document.URL.split("/")[4];this.dataFetcher.fetchData(e).then((e=>this.onFetchSucces(e))).then((e=>{this.isFetching=!1})).catch((e=>{console.log(this,e),this.isFetching=!1}))};unlock(){this.elementModifier.modifyElement(),this.elementModifier.addTagButtonOnClickListener(this.onTagButtonClicked)}onFetchSucces=e=>{let t=e.getKeys(),n=new x;for(let i=0;i<=t.length-1;i++)n.buildHeader(t[i]),n.buildTagsBox(e.getList(t[i]));let i=this.containerManager.getModalContentBox();this.containerManager.clearModalContent(),i.appendChild(n.getResult()),this.containerManager.openModal()}}]})})();